const kuTetsuToRosenzu = 'javascript:(function(){const e=["ku-tetsu.net","old.ku-tetsu.net","road.chi-zu.net","any.chi-zu.net","annex.chi-zu.net"];if(!e.includes(location.hostname)){alert("このスクリプトは指定されたドメインでのみ使用できます");return}let t=location.origin,n=location.pathname,a=n.match(/\/([A-Za-z0-9]+)\.html$/);if(!a){alert("mapnoが取得できません");return}let r=a[1],o=`${t}/_Ajax.php/?exec=selectIndex&mapno=${r}`;fetch(o).then(e=>e.json()).then(e=>{if("success"!==e.result){alert("APIリクエストが失敗しました");return}const t=e.mapdata?JSON.parse(e.mapdata).line:[];const n=document.getElementById("rootmapexport");n&&n.remove();const a=document.createElement("div");a.id="rootmapexport",a.style.display="block",a.innerHTML=`<div id="rootmapexport-bg" style="width: 100vw;height: 100vh;background: black;position: absolute;top: 0px;z-index: 1023;opacity: 0.5;"></div><div style="background: var(--area-bg-color); position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%);z-index: 1024;padding:10px;border-radius: 10px;"><h3 style="margin: 0px; background: var(--main-color); color:white; padding:10px; width: 100%; left: -10px; top:-10px; border-top-left-radius:10px; border-top-right-radius:10px; position: relative; font-weight:normal;padding-top: 11px;">空想鉄道シリーズ to 簡易路線図ジェネレーター</h3><p style="margin-top: 5px;margin-bottom: 0px;">簡易路線図ジェネレータにインポートする路線を選択してください。</p><p style="margin: 0px; color: gray;font-size: 12px;">※路線図を生成するボタンを押下すると外部サイトである簡易路線図ジェネレータに自動でリダイレクトされます。</p><p style="margin: 0px; color: gray;font-size: 12px;">※簡易路線図ジェネレータは空想鉄道関連サービスではありません。</p><select id="rootmapexport-select" style="width: 100%;padding: 10px;background: white; border-width: 1px; border-radius: 5px;margin: 10px 0px;display: block;"><option value="">路線を選択してください。</option>${t.map((e,n)=>`<option value="${n}">${e.name}</option>`).join("")}</select><button id="rootmapexport-button" style="padding: 10px;background: var(--main-color); border-width: 1px; border-radius: 5px;display: block;color: white;font-size: 12px;text-align: center; width: 100%;">路線図を生成する！</button></div>`,document.body.appendChild(a),document.getElementById("rootmapexport-bg").addEventListener("click",()=>{a.remove()}),document.getElementById("rootmapexport-button").addEventListener("click",()=>{const n=document.getElementById("rootmapexport-select").value;if(""===n){alert("路線を選択してください");return}const a=t[n],r=a.name||"",o=a.mark||"",c=(a.point||[]).map(e=>e[3]).filter(e=>e).join(","),l=`http://easy-rosenzu.pages.dev/?staname=${encodeURIComponent(c)}&linemark=${encodeURIComponent(o)}&linename=${encodeURIComponent(r)}`;window.open(l,"_blank");a.remove()})}).catch(e=>alert("エラー: "+e))})();';